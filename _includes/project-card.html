{% assign p = include.project %}

<div class="grid__item one-third">
  <a class="archive__item archive__item--link"
     href="{{ p.url | relative_url }}"
     itemscope
     itemtype="https://schema.org/CreativeWork"
     aria-label="{{ p.title | escape }}">

    {% if p.header.teaser %}
      <div class="archive__item-teaser">
        <img src="{{ p.header.teaser | relative_url }}" alt="">
      </div>
    {% endif %}

    <h2 class="archive__item-title" itemprop="headline">
      {{ p.title }}
    </h2>

    {% if p.excerpt %}
      <p class="archive__item-excerpt" itemprop="description">
        {{ p.excerpt | markdownify | strip_html | truncate: 160 }}
      </p>
    {% endif %}

    <div class="archive__item-cta">
      <span class="btn btn--primary">Details</span>

      {% if p.gem_url %}
        <span class="btn">Gem</span>
      {% endif %}

      {% if p.code_url %}
        <span class="btn">Code</span>
      {% endif %}

      {% if p.demo_url %}
        <span class="btn">Demo</span>
      {% endif %}
    </div>
  </a>
</div>
