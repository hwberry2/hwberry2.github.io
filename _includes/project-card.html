{% assign p = include.project %}

<div class="grid__item one-third">
  <article class="archive__item archive__item--clickable" itemscope itemtype="https://schema.org/CreativeWork">
    <!-- Full-card clickable overlay (Details) -->
    <a class="archive__item-link"
       href="{{ p.url | relative_url }}"
       aria-label="{{ p.title | escape }}"
       itemprop="url"></a>

    {% if p.header.teaser %}
      <div class="archive__item-teaser">
        <img src="{{ p.header.teaser | relative_url }}" alt="">
      </div>
    {% endif %}

    <h2 class="archive__item-title" itemprop="headline">
      {{ p.title }}
    </h2>

    {% if p.excerpt %}
      <p class="archive__item-excerpt" itemprop="description">
        {{ p.excerpt | markdownify | strip_html | truncate: 160 }}
      </p>
    {% endif %}

    <div class="archive__item-cta">
      <a class="btn btn--primary" href="{{ p.url | relative_url }}">Details</a>

      {% if p.gem_url != blank %}
        <a class="btn" href="{{ p.gem_url }}" target="_blank" rel="noopener">Gem</a>
      {% endif %}

      {% if p.code_url != blank %}
        <a class="btn" href="{{ p.code_url }}" target="_blank" rel="noopener">Code</a>
      {% endif %}

      {% if p.demo_url != blank %}
        <a class="btn" href="{{ p.demo_url }}" target="_blank" rel="noopener">Demo</a>
      {% endif %}
    </div>
  </article>
</div>
